import{u as h,a as f,r as c,t as j,j as s,E as p,V as w,b as E,c as v}from"./index-WfECzoqw.js";const N=()=>{const i=h(),{videos:r}=f(t=>t.videos),[n,S]=c.useState(1),[d,o]=c.useState(""),g=async t=>{var e,l,u,m,x;try{o("");const a=await E.get(`/api/v1/videos?page=${t}`,{withCredentials:!0});a.status===200&&((l=(e=a==null?void 0:a.data)==null?void 0:e.data)==null?void 0:l.length)>0?i(v((u=a==null?void 0:a.data)==null?void 0:u.data)):o("No more videos available")}catch(a){o(((x=(m=a==null?void 0:a.response)==null?void 0:m.data)==null?void 0:x.message)||"Something went wrong!")}};return c.useEffect(()=>{i(j()),g(n)},[n]),d?s.jsx(p,{err:d}):s.jsx("div",{className:"overflow-hidden mt-2",children:s.jsx("div",{className:"flex flex-wrap md:ml-2",children:r==null?void 0:r.map((t,e)=>s.jsx("div",{children:s.jsx(w,{index:e,video:t})},(t==null?void 0:t._id)??e))})})},C=()=>s.jsx("div",{className:"",children:s.jsx(N,{})});export{C as default};
